<div class="box-header">
  EXPERTS
  <div class="top-triangle"></div>
</div>
<div class="box-container">
<table class="box-table" mat-table [dataSource]="ratings">
  <ng-container matColumnDef="time">
    <th mat-header-cell *matHeaderCellDef> Time </th>
    <td mat-cell *matCellDef="let element"> {{element.adviceDate | timeAgo}} </td>
  </ng-container>
  <ng-container matColumnDef="recommendation">
    <th mat-header-cell *matHeaderCellDef> Recommendation </th>
    <td mat-cell *matCellDef="let element"> <span [style.color]="getAdviceTypeColor(element.adviceType)">{{getRecommendation(element)}}</span> </td>
  </ng-container>
  <ng-container matColumnDef="target">
    <th mat-header-cell *matHeaderCellDef> Target </th>
    <td mat-cell *matCellDef="let element"> {{element.targetPrice | valueDisplay}}</td>
  </ng-container>
  <ng-container matColumnDef="stopLoss">
    <th mat-header-cell *matHeaderCellDef> Stop Loss </th>
    <td mat-cell *matCellDef="let element"> {{element.stopLoss | valueDisplay}}</td>
  </ng-container>
  <ng-container matColumnDef="expert">
    <th mat-header-cell *matHeaderCellDef> Expert </th>
    <td mat-cell *matCellDef="let element"><a [href]="getExpertDetailsUrl(element)" target="_blank"> {{element.expertName}} </a></td>
  </ng-container>
  <ng-container matColumnDef="rating">
    <th mat-header-cell *matHeaderCellDef> Rating </th>
    <td mat-cell *matCellDef="let element"> 
      <div fxHide.lt-md class="expert-rating">
        <bar-rating [theme]="'fontawesome-o'" [readOnly]="'true'" [rate]="element.expertRating" [title]="element.expertRating | number: '1.2-2'"></bar-rating>
      </div>
    </td>
  </ng-container>
  <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
</table>
<div class="box-message" *ngIf="ratings == null">Loading...</div>
<div class="box-message" *ngIf="ratings != null && ratings.length == 0">There's no ratings of this asset.</div>
</div>